{% extends 'main/base.html' %}
{% block content %}

<!-- ============================================================== -->
<!-- Container fluid  -->
<!-- ============================================================== -->
<div class="container-fluid">
    <!-- ============================================================== -->
    <!-- Bread crumb and right sidebar toggle -->
    <!-- ============================================================== -->
    <div class="row page-titles">
        <div class="col-md-6 col-8 align-self-center">
            <h3 class="text-themecolor mb-0 mt-0">Profile</h3>
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="javascript:void(0)">Home</a></li>
                <li class="breadcrumb-item active">Profile</li>
            </ol>
        </div>

    </div>
    <!-- ============================================================== -->
    <!-- End Bread crumb and right sidebar toggle -->
    <!-- ============================================================== -->
    <!-- ============================================================== -->
    <!-- Start Page Content -->
    <!-- ============================================================== -->
    <!-- Row -->
    <div class="row">
        <!-- Column -->
        <div class="col-lg-4 col-xlg-3 col-md-5">
            <div class="card">
                <div class="card-body">
                    <center class="mt-4"><img src="../assets/images/users/5.jpg" class="img-circle" width="150"/>
                        <p class="text-muted">{{ user.profile.employee }}</p>
                        <h6 class="card-subtitle">Accoubts Manager Amix corp</h6>
                        <div class="row text-center justify-content-md-center">
                            <div class="col-4"><a href="javascript:void(0)" class="link"><i class="icon-people"></i>
                                <font class="font-medium">254</font></a></div>
                            <div class="col-4"><a href="javascript:void(0)" class="link"><i
                                    class="icon-picture"></i> <font class="font-medium">54</font></a></div>
                        </div>
                    </center>
                </div>
                <div>
                    <hr>
                </div>
                <div class="card-body"><small class="text-muted">Email address </small>
                    <p>{{ user.profile.employee.email }}</p>
                    <small class="text-muted p-t-30 db">Phone</small>
                    <h6>+91 654 784 547</h6> <small class="text-muted p-t-30 db">Address</small>
                    <h6>71 Pilgrim Avenue Chevy Chase, MD 20815</h6>
                    <div class="map-box">
                        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d470029.1604841957!2d72.29955005258641!3d23.019996818380896!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x395e848aba5bd449%3A0x4fcedd11614f6516!2sAhmedabad%2C+Gujarat!5e0!3m2!1sen!2sin!4v1493204785508"
                                width="100%" height="150" frameborder="0" style="border:0" allowfullscreen></iframe>
                    </div>
                    <small class="text-muted p-t-30 db">Social Profile</small>
                    <br/>
                    <button class="btn btn-circle btn-secondary"><i class="fab fa-facebook"></i></button>
                    <button class="btn btn-circle btn-secondary"><i class="fab fa-twitter"></i></button>
                    <button class="btn btn-circle btn-secondary"><i class="fab fa-youtube"></i></button>
                </div>
            </div>
        </div>
        <!-- Column -->
        <!-- Column -->
        <div class="col-lg-8 col-xlg-9 col-md-7">
            <div class="card">
                <!-- Nav tabs -->
                <ul class="nav nav-tabs profile-tab" role="tablist">
                    <li class="nav-item "><a class="nav-link active" data-toggle="tab" href="#profile"
                    >Profile</a></li>
                </ul>
                <!-- Tab panes -->
                <div class="tab-content">


                    <div class="tab-pane active" id="profile" role="tabpanel">
                        <div class="card-body">
                            <form class="form-horizontal form-material">
                                <div class="form-group">
                                    <label class="col-md-12">Full Name</label>
                                    <div class="col-md-12">
                                        <input class="text-muted" id="full_name" value={{user.profile.employee }}></input>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="col-md-12">Email</label>
                                    <div class="col-md-12">
                                        <input class="text-muted" id="email" value={{user.profile.employee.email}}></input>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="col-md-12"> Employement status</label>
                                    <div class="col-md-12">
                                        <input class="text-muted" id="employement_status" value={{user.profile.employee.employement_status}}></input>
                                    </div>
                                </div>


                                <div class="form-group">
                                    <label class="col-md-12">Department</label>
                                    <div class="col-md-12">
                                        <input class="text-muted" id="department" value={{user.profile.employee.department}}></input>
                                    </div>
                                </div>


                                <div class="form-group">
                                    <label class="col-md-12">Role</label>
                                    <div class="col-md-12">
                                        <input id="role" value={{user.profile.employee.role}}></input>
                                    </div>
                                </div>


                                <div class="form-group">
                                    <label class="col-md-12">Grade</label>
                                    <div class="col-md-12">
                                        <input class="text-muted" id="grade" value={{user.profile.employee.grade}}></input>
                                    </div>
                                </div>


                                <div class="form-group">
                                    <label class="col-md-12">Location</label>
                                    <div class="col-md-12">
                                        <input class="text-muted" id="location" value={{user.profile.employee.location}}></input>
                                    </div>
                                </div>


                                <div class="form-group">
                                    <label class="col-md-12">Team Lead</label>
                                    <div class="col-md-12">
                                        <input class="text-muted" id="team_lead" value={{user.profile.employee.team_lead}}></input>
                                    </div>
                                </div>


                                <div class="form-group">
                                    <label class="col-md-12">Supervisor</label>
                                    <div class="col-md-12">
                                        <input class="text-muted" id="supervisor" value={{user.profile.employee.supervisor}}></input>
                                    </div>

                                </div>

                            </form>
                            <div>
                                <div class="col-sm-12">
                                    <button class="btn btn-success" onclick=update_profile()>Update Profile</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Column -->
    </div>
    <!-- Row -->
    <!-- ============================================================== -->
    <!-- End PAge Content -->
    <!-- ============================================================== -->
    <!-- ============================================================== -->
    <!-- Right sidebar -->
    <!-- ============================================================== -->
    <!-- .right-sidebar -->
    <div class="right-sidebar">
        <div class="slimscrollright">
            <div class="rpanel-title"> Service Panel <span><i class="ti-close right-side-toggle"></i></span></div>
            <div class="r-panel-body">
                <ul id="themecolors" class="mt-3">
                    <li><b>With Light sidebar</b></li>
                    <li><a href="javascript:void(0)" data-theme="default" class="default-theme">1</a></li>
                    <li><a href="javascript:void(0)" data-theme="green" class="green-theme">2</a></li>
                    <li><a href="javascript:void(0)" data-theme="red" class="red-theme">3</a></li>
                    <li><a href="javascript:void(0)" data-theme="blue" class="blue-theme working">4</a></li>
                    <li><a href="javascript:void(0)" data-theme="purple" class="purple-theme">5</a></li>
                    <li><a href="javascript:void(0)" data-theme="megna" class="megna-theme">6</a></li>
                    <li class="d-block mt-4"><b>With Dark sidebar</b></li>
                    <li><a href="javascript:void(0)" data-theme="default-dark" class="default-dark-theme">7</a></li>
                    <li><a href="javascript:void(0)" data-theme="green-dark" class="green-dark-theme">8</a></li>
                    <li><a href="javascript:void(0)" data-theme="red-dark" class="red-dark-theme">9</a></li>
                    <li><a href="javascript:void(0)" data-theme="blue-dark" class="blue-dark-theme">10</a></li>
                    <li><a href="javascript:void(0)" data-theme="purple-dark" class="purple-dark-theme">11</a></li>
                    <li><a href="javascript:void(0)" data-theme="megna-dark" class="megna-dark-theme ">12</a></li>
                </ul>
                <ul class="mt-3 chatonline">
                    <li><b>Chat option</b></li>
                    <li>
                        <a href="javascript:void(0)"><img src="../assets/images/users/1.jpg" alt="user-img"
                                                          class="img-circle"> <span>Varun Dhavan <small
                                class="text-success">online</small></span></a>
                    </li>
                    <li>
                        <a href="javascript:void(0)"><img src="../assets/images/users/2.jpg" alt="user-img"
                                                          class="img-circle"> <span>Genelia Deshmukh <small
                                class="text-warning">Away</small></span></a>
                    </li>
                    <li>
                        <a href="javascript:void(0)"><img src="../assets/images/users/3.jpg" alt="user-img"
                                                          class="img-circle"> <span>Ritesh Deshmukh <small
                                class="text-danger">Busy</small></span></a>
                    </li>
                    <li>
                        <a href="javascript:void(0)"><img src="../assets/images/users/4.jpg" alt="user-img"
                                                          class="img-circle"> <span>Arijit Sinh <small
                                class="text-muted">Offline</small></span></a>
                    </li>
                    <li>
                        <a href="javascript:void(0)"><img src="../assets/images/users/5.jpg" alt="user-img"
                                                          class="img-circle"> <span>Govinda Star <small
                                class="text-success">online</small></span></a>
                    </li>
                    <li>
                        <a href="javascript:void(0)"><img src="../assets/images/users/6.jpg" alt="user-img"
                                                          class="img-circle"> <span>John Abraham<small
                                class="text-success">online</small></span></a>
                    </li>
                    <li>
                        <a href="javascript:void(0)"><img src="../assets/images/users/7.jpg" alt="user-img"
                                                          class="img-circle"> <span>Hritik Roshan<small
                                class="text-success">online</small></span></a>
                    </li>
                    <li>
                        <a href="javascript:void(0)"><img src="../assets/images/users/8.jpg" alt="user-img"
                                                          class="img-circle"> <span>Pwandeep rajan <small
                                class="text-success">online</small></span></a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <!-- ============================================================== -->
    <!-- End Right sidebar -->
    <!-- ============================================================== -->
</div>
<!-- ============================================================== -->
<!-- End Container fluid  -->
<!-- ============================================================== -->

{% endblock content %}

{% block page_scripts %}
<script src="/static/ofx/core.js"></script>
<script>
    function update_profile() {
        console.log($("#full_name").val());
        console.log($("#email").val());
        console.log($("#employement_status").val());
        console.log($("#department").val());
        console.log($("#role").val());
        console.log($("#grade").val());
        console.log($("#location").val());
        console.log($("#team_lead").val());
        console.log($("#supervisor").val());
        _data = {
            'fullName': $("#full_name").val(),
            'email': $("#email").val(),
            'employement_status': $("#employement_status").val(),
            'department': $("#department").val(),
            'role': $("#role").val(),
            'grade': $("#grade").val(),
            'location': $("#location").val(),
            'team_lead': $("#team_lead").val(),
            'supervisor': $("#supervisor").val(),

        }
        $.ajax({
            type: "PUT",
            url: "/api/hrm/employee/" +6+'/',
            data: _data,
            dataType: "json",
            success: function (xhr, status) {
                console.log(status)
            },
            error: function (xhr, status, errorThrown) {
                console.log(status)
            }
        })
    }
</script>
{% endblock page_scripts %}